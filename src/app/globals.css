@import "./markdown.css";
@import "tailwindcss";

@config '../../tailwind.config.mjs';

@layer base {
  :root {
    /* 颜色定义 - 采用柔和的黑白灰 */
    --bg-color: #ffffff;
    --text-main: #1a1a1a;
    --text-muted: #666666;
    --accent-color: #0070f3;
    /* 经典现代蓝 */
    --code-bg: #f5f5f7;

    /* 响应式字体大小 */
    --base-font-size: 16px;

    /* Tailwind Compatibility */
    --background: var(--bg-color);
    --foreground: var(--text-main);
    --border: 220 13% 91%;
    --radius: 0.3rem;
  }

  /* 深色模式支持 (基于 data-mode，因为项目使用 next-themes) */
  [data-mode="dark"] {
    --bg-color: #050505;
    --text-main: #ededed;
    --text-muted: #a0a0a0;
    --code-bg: #161618;
  }

  /* 系统深色模式作为回退 */
  @media (prefers-color-scheme: dark) {
    :root:not([data-mode="light"]) {
      --bg-color: #050505;
      --text-main: #ededed;
      --text-muted: #a0a0a0;
      --code-bg: #161618;
    }
  }

  * {
    box-sizing: border-box;
    @apply border-border;
  }

  body {
    margin: 0;
    padding: 0;
    background-color: var(--bg-color);
    color: var(--text-main);

    /* --- 核心字体设置 --- */
    /* Inter 负责英文数字，PingFang/Microsoft YaHei 负责中文 */
    /* 注：Inter 已通过 next/font/google 在 layout.js 中全局注入 */
    font-family: var(--font-inter), -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue",
      Helvetica, Arial, sans-serif;

    /* 抗锯齿优化 */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    /* 排版参数优化 */
    font-size: var(--base-font-size);
    line-height: 1.75;
    /* 中文阅读舒适行高 */
    letter-spacing: -0.01em;
    /* Inter 在大字号下略微收紧更好看 */
    word-break: break-word;
  }

  /* 标题设计 - 强调 Inter 的字重感 */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-weight: 700;
    line-height: 1.3;
    margin-top: 2rem;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
    color: var(--text-main);
  }

  h1 {
    font-size: 2.25rem;
  }

  h2 {
    font-size: 1.5rem;
    border-bottom: 1px solid #eee;
    padding-bottom: 0.3rem;
  }

  [data-mode="dark"] h2 {
    border-bottom-color: #333;
  }

  /* 简历样式的链接 */
  a {
    color: inherit;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  /* 针对非导航链接应用下划线样式 */
  main a:not([class]) {
    border-bottom: 1px solid #ccc;
  }

  main a:not([class]):hover {
    color: var(--accent-color);
    border-bottom-color: var(--accent-color);
  }

  /* 代码块 - 程序员博客的灵魂 */
  code,
  pre {
    /* 推荐使用 JetBrains Mono 或系统等宽 */
    font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.9em;
    background-color: var(--code-bg);
    border-radius: 4px;
  }

  code {
    padding: 0.2em 0.4em;
  }

  pre {
    padding: 1rem;
    overflow-x: auto;
    line-height: 1.5;
  }

  /* 针对简历/列表的简约处理 */
  ul {
    padding-left: 1.2rem;
  }

  li {
    margin-bottom: 0.5rem;
  }

  li strong {
    color: var(--text-main);
  }
}

@layer utilities {
  .container {
    margin: 0 auto;
    padding: 0 20px;
  }

  .toc {
    position: fixed;
    left: 10px;
    top: 100px;
    font-size: 1rem;
  }

  .mobile-menu {
    overflow: hidden;
  }
}